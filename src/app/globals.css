@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pretendard CDN import */
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.css");
/* 인사이트 인용문용 세리프 (리디바당체 느낌) */
@import url("https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;600&display=swap");

:root {
  color-scheme: light;
}

html {
  padding: 0;
  margin: 0;
  font-size: 16px;
}
@media (min-width: 640px) {
  html {
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  html {
    font-size: 18px;
  }
}

body {
  padding: 0;
  margin: 0;
  font-family: "Pretendard Variable", system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
  background-color: #f5f5f7;
  word-break: keep-all;
  overflow-wrap: break-word;
}

/* Chrome/Safari는 keep-all 미지원 → 자식에서 공백 단위 <wbr /> 쓰는 컴포넌트로 보완 */

.font-insight-serif {
  font-family: "Noto Serif KR", "Georgia", serif;
}

.insight-quote-wrap {
  word-break: keep-all;
  overflow-wrap: break-word;
}

/* 인사이트 카드용 은은한 페이퍼 텍스처 (배경 뒤에 깔림) */
.insight-texture {
  position: relative;
}
.insight-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  border-radius: inherit;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: 0.04;
  pointer-events: none;
  mix-blend-mode: multiply;
}
.insight-texture > * {
  position: relative;
  z-index: 1;
}

/* 날씨 카드용 블루 배경 (다른 스타일 덮어쓰기 방지) */
.weather-card-bg {
  background-color: #5a9fd4 !important;
}

/* 날씨 카드용 블루 그라데이션 + 질감 */
.weather-card-texture {
  position: relative;
}
.weather-card-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  border-radius: inherit;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: 0.06;
  pointer-events: none;
  mix-blend-mode: multiply;
}
/* 콘텐츠만 위로 (배경 레이어는 z-index 인라인으로 0 유지) */
.weather-card-texture > *:not([aria-hidden]) {
  position: relative;
  z-index: 1;
}

/* 글래스모피즘: Safari 등 구형 브라우저 호환 (-webkit-backdrop-filter) */
.insight-glass {
  -webkit-backdrop-filter: blur(24px);
  backdrop-filter: blur(24px);
}

/* 위젯 카드용 그레인 텍스처 */
.widget-grain-texture {
  position: relative;
  overflow: hidden;
}
.widget-grain-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  border-radius: inherit;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E");
  opacity: 0.12;
  pointer-events: none;
  mix-blend-mode: overlay;
}
.widget-grain-texture > * {
  z-index: 1;
}
.widget-grain-texture > div {
  position: relative;
}

/* 오늘의 알림 바: 블랙 그라데이션 + 그레인 텍스처 (fractalNoise) */
.alert-bar-texture {
  position: relative;
  overflow: hidden;
}
.alert-bar-texture::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 0;
  border-radius: inherit;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='g'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23g)'/%3E%3C/svg%3E");
  opacity: 0.22;
  pointer-events: none;
  mix-blend-mode: overlay;
}
.alert-bar-texture > * {
  position: relative;
  z-index: 1;
}

* {
  scrollbar-width: thin;
  scrollbar-color: #d1d1d6 transparent;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

/* 스크롤바 위·아래 화살표 버튼 제거 */
::-webkit-scrollbar-button {
  display: none;
  width: 0;
  height: 0;
}

::-webkit-scrollbar-thumb {
  background-color: #d1d1d6;
  border-radius: 9999px;
}

/* 스크롤바 숨김 (홈 메모장 모바일 등) */
@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  /* 모바일 가로 스크롤 부드럽게 (iOS) */
  .touch-scroll-x {
    -webkit-overflow-scrolling: touch;
  }
}

/* safe-area: 노치/홈 인디케이터 대응 */
@supports (padding: env(safe-area-inset-top)) {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  .safe-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* 기상 후 샤워 알림 - 좋아! 후 큰 아이콘 애니메이션 */
@keyframes shower-goodbye {
  0% {
    transform: scale(0.3);
    opacity: 0;
  }
  15% {
    transform: scale(1.2);
    opacity: 1;
  }
  25% {
    transform: scale(1);
    opacity: 1;
  }
  70% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}
.shower-goodbye-icon {
  animation: shower-goodbye 1.8s ease-out forwards;
}

/* 기상 후 샤워 O 클릭 폭죽 효과 */
.confetti-dot {
  animation: confetti-burst 0.6s ease-out forwards;
  opacity: 0;
}
@keyframes confetti-burst {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 1;
  }
  12% {
    transform: translate(calc(var(--tx) * 0.35), calc(var(--ty) * 0.35)) scale(1.3);
    opacity: 1;
  }
  70% {
    transform: translate(var(--tx), var(--ty)) scale(0.9);
    opacity: 0.6;
  }
  100% {
    transform: translate(var(--tx), var(--ty)) scale(0.6);
    opacity: 0;
  }
}

/* 기상 후 샤워 2페이지: "지금 샤워를 하면," 위→아래 슬라이드 등장 */
.benefits-subtitle {
  opacity: 0;
  animation: benefits-subtitle-enter 0.45s ease-out forwards;
}
@keyframes benefits-subtitle-enter {
  0% {
    opacity: 0;
    transform: translateY(-24px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* 기상 후 샤워 2페이지: 항목이 위에서부터 순서대로 등장 */
.benefit-item {
  background-color: transparent;
  border: 1px solid transparent;
  box-shadow: none;
  opacity: 0;
  animation: benefit-item-enter 0.5s ease-out forwards;
}
@keyframes benefit-item-enter {
  0% {
    background-color: transparent;
    border-color: transparent;
    box-shadow: none;
    opacity: 0;
  }
  100% {
    background-color: #fffbeb;
    border-color: rgba(251, 191, 36, 0.25);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
    opacity: 1;
  }
}
.benefit-item:hover {
  background-color: #fef3c7 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08) !important;
  border-color: rgba(251, 191, 36, 0.5) !important;
}

/* 순서 등장만 필요할 때: 노란 박스 없이 opacity만 */
.benefit-item-fade {
  opacity: 0;
  animation: benefit-item-fade-enter 0.5s ease-out forwards;
}
@keyframes benefit-item-fade-enter {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* 사이드바 유튜브 재생목록 제목 가로 스크롤 */
.youtube-title-marquee {
  display: block;
  overflow: hidden;
  white-space: nowrap;
}
.youtube-title-marquee > span {
  display: inline-block;
  white-space: nowrap;
  margin-left: 100%;
  animation: youtube-marquee 18s linear infinite;
}
@keyframes youtube-marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

